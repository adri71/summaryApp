{"ast":null,"code":"import React from'react';import'./IntroText.css';import*as pdfjsLib from'pdfjs-dist/legacy/build/pdf';// Ruta actualizada\nimport pdfjsWorker from'pdfjs-dist/legacy/build/pdf.worker.entry';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function IntroText(_ref){let{formData,setFormData,loading,handleSubmit}=_ref;// Maneja el cambio del input manualmente\nconst handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};// Lee el archivo PDF y actualiza el textarea\nconst handleFileChange=async event=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=async function(){const typedArray=new Uint8Array(this.result);const pdf=await pdfjsLib.getDocument({data:typedArray}).promise;let extractedText='';for(let pageNum=1;pageNum<=pdf.numPages;pageNum++){const page=await pdf.getPage(pageNum);const textContent=await page.getTextContent();const pageText=textContent.items.map(item=>item.str).join(' ');extractedText+=pageText+'\\n';}// Actualiza el texto extraído en el textarea\nsetFormData({...formData,articulo:extractedText});};reader.readAsArrayBuffer(file);}};const onSubmit=e=>{e.preventDefault();handleSubmit();};return/*#__PURE__*/_jsx(\"div\",{className:\"comp1\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Enter the article to be summarized\"})}),/*#__PURE__*/_jsx(\"textarea\",{name:\"articulo\",placeholder:\"Copy the article here\",value:formData.articulo,onChange:handleChange,rows:\"20\",cols:\"110\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cargarPDF\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Upload the article in PDF format: \"})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"application/pdf\",onChange:handleFileChange})]}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Approximate word length of summary: \"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"longitud\",value:formData.longitud,onChange:handleChange,min:\"100\",max:\"1000\",placeholder:\"longitud\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"b1\",type:\"submit\",disabled:loading,children:loading?'Simplifying...':'Simplify'})]})});}export default IntroText;","map":{"version":3,"names":["React","pdfjsLib","pdfjsWorker","jsx","_jsx","jsxs","_jsxs","IntroText","_ref","formData","setFormData","loading","handleSubmit","handleChange","e","name","value","target","handleFileChange","event","file","files","reader","FileReader","onload","typedArray","Uint8Array","result","pdf","getDocument","data","promise","extractedText","pageNum","numPages","page","getPage","textContent","getTextContent","pageText","items","map","item","str","join","articulo","readAsArrayBuffer","onSubmit","preventDefault","className","children","placeholder","onChange","rows","cols","type","accept","longitud","min","max","disabled"],"sources":["/Users/administrador/Desktop/TFMS/Ingieneria Informatica/codigo/fronted_tfm/src/IntroText.js"],"sourcesContent":["import React from 'react';\nimport './IntroText.css';\nimport * as pdfjsLib from 'pdfjs-dist/legacy/build/pdf'; // Ruta actualizada\nimport pdfjsWorker from 'pdfjs-dist/legacy/build/pdf.worker.entry';\n\nfunction IntroText({ formData, setFormData, loading, handleSubmit }) {\n  // Maneja el cambio del input manualmente\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  // Lee el archivo PDF y actualiza el textarea\n  const handleFileChange = async (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = async function () {\n        const typedArray = new Uint8Array(this.result);\n        const pdf = await pdfjsLib.getDocument({ data: typedArray }).promise;\n        let extractedText = '';\n        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {\n          const page = await pdf.getPage(pageNum);\n          const textContent = await page.getTextContent();\n          const pageText = textContent.items.map((item) => item.str).join(' ');\n          extractedText += pageText + '\\n';\n        }\n        // Actualiza el texto extraído en el textarea\n        setFormData({ ...formData, articulo: extractedText });\n      };\n      reader.readAsArrayBuffer(file);\n    }\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    handleSubmit();\n  };\n\n  return (\n    <div className='comp1'>\n      <form onSubmit={onSubmit}>\n        <label><b>Enter the article to be summarized</b></label>\n        <textarea\n          name=\"articulo\"\n          placeholder=\"Copy the article here\"\n          value={formData.articulo}\n          onChange={handleChange}\n          rows=\"20\"\n          cols=\"110\"\n        />\n        <div className='cargarPDF'>\n            <label><b>Upload the article in PDF format: </b></label>\n            <input type=\"file\" accept=\"application/pdf\" onChange={handleFileChange} />\n        </div>\n        <label><b>Approximate word length of summary: </b></label>\n        <input\n          type=\"number\"\n          name=\"longitud\"\n          value={formData.longitud}\n          onChange={handleChange}\n          min=\"100\"\n          max=\"1000\"\n          placeholder=\"longitud\"\n        />\n        <br />\n        <button className=\"b1\" type=\"submit\" disabled={loading}>\n          {loading ? 'Simplifying...' : 'Simplify'}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default IntroText;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}